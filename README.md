# Описание приложения


Приложение представляет собой проект Django, которое работает через API на Django REST Framework.
Оно предназначено для обработки POST запросов и возвращения формы, в соответствии с переданными данными.

## Структура проекта
- В каталоге `config` содержатся общие настройки проекта.

- В каталоге `api` располагаются файлы с кодом для работы с api:

  - `urls.py` - файл содержит url, необходимые для работы api
  - `serializers.py` - содержит код сериализатора с валидаторами.
  - `views.py` - содержит хэндлер `get_form`, который обрабатывает запрос на api

- В каталоге `tests` содержится скрипт с тестами, который может быть запущен с использованием модуля `pytest`.
- `test_db.json` - тестовая база данных, созданная с использованием TinyDB.
- Dockerfile - нужен для создания Docker образа.

## Запуск приложения

Перед запуском необходимо создать в корне проекта файл `.env` следующего содержания:

```dotenv
TINYDB_FILE='test_db.json'
```

Это значение переменной окружения определяет название файла JSON для тестовой базы данных TinyDB.. Сама тестовая база данных представлена в этом репозитории. 

### Способ 1: с помощью виртуального окружения `poetry`.

Этот способ подразумевает наличие установленного poetry на вашем компьютере. Если он не установлен, вы можете обратиться к Способу 2, либо установить и настроить poetry с помощью инструкции по [ссылке](https://python-poetry.org/docs/#installing-with-the-official-installer).

Шаг 1: Откройте терминал и перейдите в корневую папку проекта. Затем выполните команду `poetry install`, чтобы установить зависимости проекта.

Шаг 2: Активируйте виртуальное окружение с помощью команды `poetry shell` в терминале.

Шаг 3: Введите команду `python manage.py runserver` в терминале.

Теперь приложение готово к работе и принимает POST-запросы по адресу http://127.0.0.1:8000/get_form. Данные, в соответствии с требованиями, должны быть переданы в теле запроса.

### Способ 2: запустить приложение в `Docker` контейнере.

Шаг 1: Откройте терминал и перейдите в корневую папку проекта. Затем выполните команду `docker build -t ecom_test .`, чтобы создать образ Docker.

В случае необходимости получения прав суперпользователя для выполнения данной команды, можно использовать следующую команду: `sudo docker build -t ecom_test .`. После этого нужно будет ввести пароль суперпользователя.

Шаг 2: Введите команду `docker run --env-file=.env -p 8000:8000 ecom_test` или `sudo docker run --env-file=.env -p 8000:8000 ecom_test` для запуска контейнера.

После запуска контейнера приложение готово к работе и принимает POST-запросы по адресу http://127.0.0.1:8000/get_form.