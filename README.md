# Описание приложения


Приложение представляет собой проект Django, которое работает через API на Django REST Framework.
В каталоге `config` содержатся общие настройки проекта.

В каталоге `api` располагаются файлы с кодом для работы с api:

- `urls.py` - файл содержит url, необходимые для работы api
- `serializers.py` - содержит код сериализатора с валидаторами.
- `views.py` - содержит хэндлер `get_form`, который обрабатывает запрос на api

В каталоге `tests` содержится скрипт с тестами, который может быть запущен с использованием модуля `pytest`. 

## Как запустить приложение

Перед запуском необходимо создать в корне проекта файл `.env` следующего содержания:

```dotenv
TINYDB_FILE='test_db.json'
```

Эта переменная окружения содержит название json файла для тестовой базы данных TinyDB. Сама тестовая база данных представлена в этом репозитории. 

### Способ 1: с помощью виртуального окружения `poetry`.

Этот способ подразумевает, что `poetry` уже установлен на локальном компьютере. Если это не так, можете либо перейти к Способу 2, либо установить и настроить его с помощью инструкции по [ссылке](https://python-poetry.org/docs/#installing-with-the-official-installer).

Шаг 1: в терминале перейдите в корень проекта и установите зависимости командой `poetry install`.

Шаг 2: в терминале запустите виртуальное окружение командой `poetry shell`.

Шаг 3: выполните команду `python manage.py runserver`

Теперь приложение готово к работе и принимает POST запросы по адресу `http://127.0.0.1:8000/get_form`. Данные, как и указано в т.з., следует передавать в теле запроса.

### Способ 2: запустить приложение в `Docker` контейнере.

Шаг 1: в терминале перейдите в корень проекта и соберите образ командой `docker build -t ecom_test`.
Для выполнения этой команды могут понадобиться права супер пользователя. В этом случае используйте эту команду: `sudo docker build -t ecom_test`, после чего введите пароль супер пользователя.

Шаг 2: Для запуска контейнера введите команду `docker run --env-file=.env -p 8000:8000 ecom_test` или `sudo docker run --env-file=.env -p 8000:8000 ecom_test`

После запуска контейнера приложение готово к работе и принимает POST запросы по адресу `http://127.0.0.1:8000/get_form`.
